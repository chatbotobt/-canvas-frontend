<!DOCTYPE html>
<html>
<head>
  <title>Chatbot Frontend</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; }
    #chat { border: 1px solid #ccc; padding: 10px; height: 400px; overflow-y: scroll; }
    .message { margin: 5px 0; }
    .user { color: blue; }
    .bot { color: green; }
  </style>
</head>
<body>
  <h1>Chatbot Frontend</h1>
  <div id="chat"></div>
  <input type="text" id="input" placeholder="Type your message" style="width:80%">
  <button onclick="send()">Send</button>

  <script>
    const backendUrl = "https://YOUR_HF_SPACE_NAME.hf.space/api/predict/";

    const chatDiv = document.getElementById("chat");
    const input = document.getElementById("input");

    function addMessage(text, sender) {
      const div = document.createElement("div");
      div.className = "message " + sender;
      div.textContent = (sender === "user" ? "You: " : "Bot: ") + text;
      chatDiv.appendChild(div);
      chatDiv.scrollTop = chatDiv.scrollHeight;
    }

    async function send() {
      const msg = input.value.trim();
      if (!msg) return;
      addMessage(msg, "user");
      input.value = "";
      try {
        const response = await fetch(backendUrl, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ data: [msg] })
        });
        const json = await response.json();
        addMessage(json.data[0], "bot");
      } catch (e) {
        addMessage("Error contacting backend.", "bot");
      }
    }
  </script>
</body>
</html>
